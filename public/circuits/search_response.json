{"noir_version":"1.0.0-beta.9+6abff2f16e1c1314ba30708d1cf032a536de3d19","hash":"7252161609380342518","abi":{"parameters":[{"name":"commitment","type":{"kind":"field"},"visibility":"public"},{"name":"searched_x","type":{"kind":"array","length":9,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"public"},{"name":"searched_y","type":{"kind":"array","length":9,"type":{"kind":"integer","sign":"unsigned","width":8}},"visibility":"public"},{"name":"my_x","type":{"kind":"integer","sign":"unsigned","width":8},"visibility":"private"},{"name":"my_y","type":{"kind":"integer","sign":"unsigned","width":8},"visibility":"private"},{"name":"my_nonce","type":{"kind":"field"},"visibility":"private"}],"return_type":null,"error_types":{"16407765477254731130":{"error_kind":"string","string":"commitment mismatch"},"18064232545167412250":{"error_kind":"string","string":"prey is at a searched position"}}},"bytecode":"H4sIAAAAAAAA/9WcW04UURCGa2a43y8DKIIgCIIgdM+F6QFBEARBEF58NZEIugb34YubMCZuwMQnt+EuTDROSR9TaY/zQv1JnUo63akDP18V/dccmEuOruKscbxNr3ONo5Ce+ejI5PKeXMGTa/HkWj25Nk+u3ZPr8OQ6PbkuT67bk+vx5Ho9uT5Prt+TG/DkBj25IU9u2JMrpjkZufS8nZ7L0VqlclErXcTl+FVUqp8n1ahSPV9L4iSuJtXXpaRcvkgqSa1+Xq9F9bhSvogvq/XyZXQVo0Iruma42loEK9f1S9TjrkfE9Wh67b5vrHHcaBw3G8e4yLvIZ3oQXS9izX6O6XFFsuaC8u89p9i/YUWuW4r9k/dhNrI+iq4XsSa35J1AAk8AdCcVbwZU3ZOiwUq6ULN2KdZfVOS6TWGaVZNb8k4hgacAutNk26xc97RosJIuhHUSyOpCe7DkyeYu4A6FOVg0uSXvDBJ4BqA7S7YHC9c9KxqspAs1azfZ3AXcpTDNqskteeeQwHMA3XmybVaue140WEkXwjoLZHWhPVgKZHMXcI/CHCya3JJ3AQm8ANBdJNuDheteFA1W0oWatYds7gLuU5hm1eSWvEtI4CWA7jLZNivXvSwarKQLYV0EsrrQHiwtZHMX8IDCHCya3JJ3BQm8AtBdJduDheteFQ1W0oWatZds7gIiCtOsmtySN0YCxwDdEtk2K4uWRIOVdCGsq0BWF9qDpZVs7gLKFOZg0eSWvBUkcAWgWyXbg4XrrooGK+lCzdpHNncBaxSmWTW5JW8NCVwD6CZk26xcdyIarKQLYa0CWV1oD5Y2srkLqFOYg0WTW/KuI4HXAbobZHuwcN0bosFKulCz9pPNXcBDCtOsmtySdxMJvAnQ3SLbZuW6t0SDlXQhrBtAVhfag6WdbO4CHlGYg0WTO+e5l2DA2ro7ZHuwcN07ngZH1wwhqW7WAbK5C3hMYZpVk1vy7iKBdwG6e2TbrFz3nmiwki6EdQfI6kJ7sHSQzV3AEwpzsGhyS959JPA+QPeAbA8WrvtANFhJF2rWQbK5C3hKYZpVk1vyHiKBDwG6R2TbrFz3kWiwki6E9QDI6kJ7sHSSzV3AMwpzsGhyS95jJPAxQPeEbA8WrvtENFhJF2rWIbK5C3hOYZpVk1vyniKBTwG6Z2TbrFz3mWiwki6E9QTEypzOHG6w8CMuG3kkvZb3XT79Ov4efvUfP/fvPn2LH/X5w0f4rcf8xiN+2TG/6IifcuR/OPKfG0NCr0tcj6bnd+8//vw69vm7WPr7QRnjPV8+fOv+9EOuLTRZi5usrTdZ222ydtxk7UWTtZdN1t78Z83dQ52Z84hY13w3ptMvYvT/PEOUjRFxXczUmRdr20oMTs/d6630b+Qza+5rOzJ8OX2+OMtS8PwsF86bRZFz/fwNb2OVRqpPAAA=","debug_symbols":"ndXLbqswEAbgd/GahS9je5xXOTqKSEIqJEQiCpWqqO9ewz8m7SKLejUGz3wgzwge6tKdlrdjP15v7+rw76FOUz8M/dtxuJ3bub+N+e7jq1Hl8jhPXZdvqR/7uereTt04q8O4DEOjPtph2ZLe7+24xbmd8q5uVDdecszgtR+6dfXVPKv161JjTJBqY2zaAf8HwZldIKoSjN4F718J7rXA1gvANlTUR7al3pma57tY6slXnUDg/QSSrhGcpSI4F6uE5yRUC34X6ibBxec7cNU0uudJVgtxF1KoEciWcTJUd5Lk925S4F/C/3zVnvvp15dEWZ13G2UNgs0znYNTh5QDIXiEgBCznV/TssSE6LTELK3tdHZLd6AcKAfKBckVy4nlxCINg8yWTqAIFIEiL7likVgkFiUYXm/pHpQH5UF5Qq4Xy4vlxfIsRtrSA6gAKoAKDrlBrCBWECtEGIGRDiqCiqCiRW4UK4oVxYoBRoxIBxVBMSg2yGWxWCwWiz0MRhsZFINiUEl6mMRKYiWxEsFIaGMClUAlUEl6aLQuC1MWtixWb/3efbRT356GTn5q12U8//jHzZ/3slP+gvfpdu4uy9StU7zt5bn+Bg==","file_map":{"50":{"source":"// ZK Hunt Lite - Search Response Circuit (Batched)\n//\n// Proves that the Prey is NOT at any of the searched tiles (up to 9),\n// without revealing the actual position.\n//\n// Public inputs:\n//   commitment   - Current position commitment\n//   searched_x   - Array of 9 X coordinates being searched (unused slots = 255)\n//   searched_y   - Array of 9 Y coordinates being searched (unused slots = 255)\n//\n// Private inputs:\n//   my_x, my_y, my_nonce - Prey's actual position and blinding factor\n//\n// Constraints:\n//   1. commitment == hash(my_x, my_y, my_nonce)\n//   2. For each i in 0..9: (my_x, my_y) != (searched_x[i], searched_y[i])\n//      Slots with 255 are out of valid range (0-7) so always pass.\n\nfn hash3(a: Field, b: Field, c: Field) -> Field {\n    let state: [Field; 4] = std::hash::poseidon2_permutation([a, b, c, 0], 4);\n    state[0]\n}\n\nfn main(\n    // Public inputs\n    commitment: pub Field,\n    searched_x: pub [u8; 9],\n    searched_y: pub [u8; 9],\n    // Private inputs\n    my_x: u8,\n    my_y: u8,\n    my_nonce: Field,\n) {\n    // 1. Verify commitment matches actual position\n    let computed = hash3(my_x as Field, my_y as Field, my_nonce);\n    assert(commitment == computed, \"commitment mismatch\");\n\n    // 2. Prove position differs from each searched tile\n    for i in 0..9 {\n        let same_x = (my_x == searched_x[i]) as u8;\n        let same_y = (my_y == searched_y[i]) as u8;\n        let both_same = same_x * same_y;\n        assert(both_same == 0, \"prey is at a searched position\");\n    }\n}\n\n#[test]\nfn test_single_search_not_found() {\n    // Prey at (2, 0), hunter searches (3, 0), rest padded with 255\n    let nonce: Field = 12345;\n    let commitment = hash3(2, 0, nonce);\n    main(commitment, [3, 255, 255, 255, 255, 255, 255, 255, 255], [0, 255, 255, 255, 255, 255, 255, 255, 255], 2, 0, nonce);\n}\n\n#[test]\nfn test_multiple_searches_not_found() {\n    // Prey at (2, 3), hunter searches 3 tiles, rest padded\n    let nonce: Field = 42;\n    let commitment = hash3(2, 3, nonce);\n    main(commitment, [1, 3, 2, 255, 255, 255, 255, 255, 255], [3, 3, 4, 255, 255, 255, 255, 255, 255], 2, 3, nonce);\n}\n\n#[test]\nfn test_nine_searches_not_found() {\n    // Prey at (4, 4), all 9 slots used (power search with diagonals)\n    let nonce: Field = 99999;\n    let commitment = hash3(4, 4, nonce);\n    main(commitment, [3, 5, 3, 5, 3, 5, 4, 4, 4], [3, 3, 5, 5, 4, 4, 3, 5, 4], 4, 4, nonce);\n}\n\n#[test]\nfn test_different_y_only() {\n    // Prey at (3, 0), searches (3, 1) - same x, different y\n    let nonce: Field = 12345;\n    let commitment = hash3(3, 0, nonce);\n    main(commitment, [3, 255, 255, 255, 255, 255, 255, 255, 255], [1, 255, 255, 255, 255, 255, 255, 255, 255], 3, 0, nonce);\n}\n\n#[test]\nfn test_all_padded() {\n    // All slots padded (edge case: no tiles to search)\n    let nonce: Field = 12345;\n    let commitment = hash3(2, 0, nonce);\n    main(commitment, [255, 255, 255, 255, 255, 255, 255, 255, 255], [255, 255, 255, 255, 255, 255, 255, 255, 255], 2, 0, nonce);\n}\n\n#[test(should_fail_with = \"prey is at a searched position\")]\nfn test_caught_first_slot() {\n    // Prey at (2, 0), searched at (2, 0) in first slot\n    let nonce: Field = 12345;\n    let commitment = hash3(2, 0, nonce);\n    main(commitment, [2, 255, 255, 255, 255, 255, 255, 255, 255], [0, 255, 255, 255, 255, 255, 255, 255, 255], 2, 0, nonce);\n}\n\n#[test(should_fail_with = \"prey is at a searched position\")]\nfn test_caught_third_slot() {\n    // Prey at (4, 4), caught in the third search slot\n    let nonce: Field = 99999;\n    let commitment = hash3(4, 4, nonce);\n    main(commitment, [3, 5, 4, 255, 255, 255, 255, 255, 255], [4, 4, 4, 255, 255, 255, 255, 255, 255], 4, 4, nonce);\n}\n\n#[test(should_fail_with = \"prey is at a searched position\")]\nfn test_caught_ninth_slot() {\n    // Prey at (1, 1), caught in the ninth (last) slot\n    let nonce: Field = 77;\n    let commitment = hash3(1, 1, nonce);\n    main(commitment, [0, 2, 0, 3, 4, 5, 6, 7, 1], [0, 0, 1, 2, 3, 4, 5, 6, 1], 1, 1, nonce);\n}\n\n#[test(should_fail_with = \"commitment mismatch\")]\nfn test_invalid_commitment() {\n    let nonce: Field = 12345;\n    let wrong_nonce: Field = 99999;\n    let commitment = hash3(2, 0, nonce);\n    main(commitment, [3, 255, 255, 255, 255, 255, 255, 255, 255], [0, 255, 255, 255, 255, 255, 255, 255, 255], 2, 0, wrong_nonce);\n}\n","path":"/Users/dub/Desktop/caravana/phantom-chase/circuits/search_response/src/main.nr"}},"names":["main"],"brillig_names":["directive_invert"]}